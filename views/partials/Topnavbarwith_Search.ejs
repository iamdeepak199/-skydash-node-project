<!--------------------------------------------------TOP NAV BAR WITH SEARCH FUNCTINALITY---------------------------------------------------------->

<nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
    <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
        <a class="navbar-brand brand-logo mr-5" href="/dashborad.ejs"><img src="images/logo.svg" class="mr-2"
                alt="logo" /></a>
        <a class="navbar-brand brand-logo-mini" href="/dashborad.ejs"><img src="images/logo-mini.svg" alt="logo" /></a>
    </div>
    <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
        <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
            <span class="icon-menu"></span>
        </button>
        <ul class="navbar-nav mr-lg-2">
            <li class="nav-item nav-search d-none d-lg-block">
                <div class="input-group">
                    <div class="input-group-prepend hover-cursor" id="navbar-search-icon">
                        <span class="input-group-text" id="search">
                            <i class="icon-search"></i>
                        </span>
                    </div>
                    <input type="text" class="form-control" id="navbar-search-input" placeholder="Search now"
                        aria-label="search" aria-describedby="search">
                </div>
            </li>
        </ul>


        <ul class="nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="/dashboard">
                    <i class="fa fa-user"></i> Admin
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/login">
                    <i class="fa fa-sign-out"></i> Logout
                </a>
            </li>


            <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
                data-toggle="offcanvas">
                <span class="icon-menu"></span>
            </button>
    </div>
</nav>

<script>
    // Search functionality for filtering table rows
    document.getElementById("navbar-search-input").addEventListener("keyup", function () {
        searchTable();
    });

    // Function to search the table
    function searchTable() {
        const input = document.getElementById("navbar-search-input").value.toUpperCase();
        const table = document.getElementById("rankPayoutTable");
        const tr = table.getElementsByTagName("tr");

        // Loop through all table rows, excluding the header
        for (let i = 1; i < tr.length; i++) {
            const tds = tr[i].getElementsByTagName("td");
            let found = false;

            // Loop through each table cell in the row
            for (let j = 0; j < tds.length; j++) {
                if (tds[j]) {
                    if (tds[j].innerText.toUpperCase().indexOf(input) > -1) {
                        found = true; // If match is found
                        break;
                    }
                }
            }

            // Show or hide the row based on search result
            if (found) {
                tr[i].style.display = ""; // Show the row if found
            } else {
                tr[i].style.display = "none"; // Hide the row if not found
            }
        }
    }
</script>